import{j as t}from"./animations-DhioRhxf.js";import{r as o}from"./i18n-PddWbyrr.js";import{c as L,u as V,a as B,t as W}from"./index-BklgJSlm.js";import"./vendor-D3F3s8fL.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],U=L("chevron-left",H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Q=L("chevron-right",J);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],G=L("external-link",Y),X=1.1,Z=.85,M=5,ee="lexPrimeAdvocacia",te={returnObjects:!0},ne=s=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("analytics",{detail:s}))},se=()=>{const[s,f]=o.useState(!1);return o.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const n=window.matchMedia("(prefers-reduced-motion: reduce)"),l=()=>f(n.matches);return l(),typeof n.addEventListener=="function"?(n.addEventListener("change",l),()=>n.removeEventListener("change",l)):(n.addListener(l),()=>n.removeListener(l))},[]),s},x={category:"",title:"",description:"",tags:void 0},re=s=>{if(!Array.isArray(s))return;const f=s.filter(n=>typeof n=="string"&&n.trim().length>0);return f.length>0?f:void 0},oe=s=>{if(typeof s=="string")return{...x,title:s,description:s};if(!s||typeof s!="object")return x;const{category:f,title:n,description:l,tags:v}=s;return{category:typeof f=="string"?f:x.category,title:typeof n=="string"?n:typeof l=="string"?l:x.title,description:typeof l=="string"?l:typeof n=="string"?n:x.description,tags:re(v)}},ie=s=>typeof s=="string"&&s.startsWith("/");function ue({items:s,onCardClick:f}){const{t:n}=V(),l=B(),v=se(),i=s.length,m=i*M,T=i*Math.floor(M/2),A=s.findIndex(e=>e.id===ee),S=A>=0?A:0,N=T+S,[b,$]=o.useState(N),[O,z]=o.useState(""),w=o.useRef(null),y=o.useRef([]),k=o.useId();o.useEffect(()=>{y.current=new Array(m).fill(null)},[m]);const D=o.useMemo(()=>i?Array.from({length:m},(e,r)=>s[r%i]):[],[s,i,m]),j=o.useMemo(()=>i?s.map(e=>{const r=e.translationKey??`portfolio.projects.${e.id}`;return oe(n(r,te))}):[],[s,n,i]),I=o.useCallback(()=>{const e=w.current;if(!e)return;const r=e.getBoundingClientRect(),a=r.left+r.width/2;let d=0,u=Number.POSITIVE_INFINITY;if(y.current.forEach((h,g)=>{if(!h)return;const c=h.getBoundingClientRect(),K=c.left+c.width/2,R=Math.abs(K-a);R<u&&(u=R,d=g)}),$(d),i){const h=(d%i+i)%i,g=j[h];g&&z(`${g.title} â€” ${n("portfolio.badge")}`)}},[j,n,i]);o.useEffect(()=>{const e=w.current;if(!e)return;let r=0;const a=()=>{r&&cancelAnimationFrame(r),r=requestAnimationFrame(I)};return I(),e.addEventListener("scroll",a,{passive:!0}),window.addEventListener("resize",a),()=>{e.removeEventListener("scroll",a),window.removeEventListener("resize",a),r&&cancelAnimationFrame(r)}},[I]);const p=o.useCallback((e,r="smooth")=>{const a=w.current,d=y.current[e];if(!a||!d)return;const u=a.clientWidth/2-d.clientWidth/2,h=d.offsetLeft-u;a.scrollTo({left:h,behavior:r})},[]);o.useEffect(()=>{if(!i)return;const e=setTimeout(()=>{p(N,"auto")},100);return()=>clearTimeout(e)},[N,p,i]);const E=o.useCallback(()=>{let e=b-1;e<0&&(e=m-1),p(e)},[p,b,m]),C=o.useCallback(()=>{let e=b+1;e>=m&&(e=0),p(e)},[p,b,m]),F=o.useCallback(e=>{e.key==="ArrowLeft"?(e.preventDefault(),E()):e.key==="ArrowRight"&&(e.preventDefault(),C())},[C,E]),_=o.useCallback(e=>{W("cta_click",{cta:e.analyticsId??`portfolio_${e.id}`,location:"portfolio_carousel"}),ne({source:"portfolio:card_click",id:e.id}),f?.(e),ie(e.href)?l(e.href):e.href&&typeof window<"u"&&window.open(e.href,"_blank","noopener")},[l,f]),P=o.useCallback((e,r,a)=>{if(!a){p(r);return}_(e)},[_,p]),q=o.useMemo(()=>t.jsxs("div",{className:"text-center mb-16 space-y-6",children:[t.jsx("div",{className:"flex justify-center",children:t.jsxs("span",{className:"relative inline-flex items-center gap-2 overflow-hidden rounded-full border border-primary/30 bg-primary/10 px-5 py-2 text-xs font-semibold uppercase tracking-[0.45em] text-primary/80 shadow-[0_12px_30px_rgba(124,58,237,0.25)] backdrop-blur-sm",children:[t.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),n("portfolio.badge")]})}),t.jsx("h2",{className:"text-4xl font-bold gradient-text-primary drop-shadow-sm md:text-5xl",children:n("portfolio.title")}),t.jsx("p",{className:"text-lg text-muted-foreground/90 max-w-2xl mx-auto whitespace-pre-line leading-relaxed",children:n("portfolio.subtitle")})]}),[n]);return s.length?t.jsxs("section",{id:"portfolio",className:"section-padding relative overflow-visible",role:"region","aria-label":"Carrossel de projetos",onKeyDown:F,children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-background via-background/95 to-background"}),t.jsx("div",{className:"pointer-events-none absolute -top-32 left-1/2 z-0 h-72 w-72 -translate-x-1/2 rounded-full bg-primary/20 blur-3xl opacity-70 animate-pulse-slow will-change-transform"}),t.jsx("div",{className:"pointer-events-none absolute bottom-0 right-0 z-0 h-80 w-80 translate-x-1/4 translate-y-1/3 rounded-full bg-purple-500/10 blur-3xl animate-float-slow will-change-transform"}),t.jsxs("div",{className:"container relative",children:[q,t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("button",{type:"button",onClick:E,"data-analytics":"portfolio:navigate_prev",className:"inline-flex h-12 w-12 items-center justify-center rounded-full border border-white/10 bg-background/70 text-foreground/80 backdrop-blur-xl shadow-lg transition hover:bg-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","aria-label":n("accessibility.previousProject"),"aria-controls":k,disabled:!1,children:t.jsx(U,{className:"h-5 w-5"})}),t.jsx("button",{type:"button",onClick:C,"data-analytics":"portfolio:navigate_next",className:"inline-flex h-12 w-12 items-center justify-center rounded-full border border-white/10 bg-background/70 text-foreground/80 backdrop-blur-xl shadow-lg transition hover:bg-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","aria-label":n("accessibility.nextProject"),"aria-controls":k,disabled:!1,children:t.jsx(Q,{className:"h-5 w-5"})})]}),t.jsx("div",{ref:w,className:"overflow-x-auto px-6 md:px-10 scroll-smooth snap-x snap-mandatory py-8","aria-live":"polite",children:t.jsxs("div",{className:"flex items-stretch gap-10 pb-10 snap-x snap-mandatory",role:"list",id:k,children:[t.jsx("span",{"aria-hidden":"true",className:"shrink-0 w-[40vw] sm:w-[32vw] md:w-[26vw] lg:w-[22vw]"}),D.map((e,r)=>{const a=i?(r%i+i)%i:0,d=j[a]??x,u=b===r,h=v?1:u?X:Z,g=v||u?1:.7;return t.jsx("div",{role:"listitem",tabIndex:0,"data-active":u,ref:c=>{y.current[r]=c},className:["snap-center relative shrink-0 transition-transform duration-300 ease-out will-change-transform origin-center","w-[68vw] sm:w-[42vw] md:w-[30vw] lg:w-[22vw] xl:w-[20vw] aspect-[4/5] sm:aspect-[3/4]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background"].join(" "),style:{transform:`scale(${h})`,opacity:g},onClick:()=>P(e,r,u),onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),P(e,r,u))},children:t.jsxs("div",{className:[e.gradient??"portfolio-card-1","rounded-3xl p-4 sm:p-6 text-white relative overflow-hidden group cursor-pointer h-full","transition-all duration-500 hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/30",u&&"shadow-2xl shadow-primary/80 ring-[3px] ring-primary/90 drop-shadow-[0_0_20px_rgba(124,58,237,0.8)]"].filter(Boolean).join(" "),children:[t.jsx("div",{className:"absolute -top-20 right-0 h-32 w-32 rounded-full bg-white/15 blur-3xl transition-opacity duration-500 group-hover:opacity-100 opacity-0 will-change-transform"}),t.jsx("div",{className:"absolute -bottom-16 left-0 h-28 w-28 rounded-full bg-white/10 blur-3xl transition-all duration-500 group-hover:scale-125 will-change-transform"}),t.jsx("div",{className:"absolute inset-0 bg-black/25 group-hover:bg-black/15 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10 flex h-full flex-col",children:[t.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 self-start rounded-full bg-white/20 px-2 sm:px-3 py-0.5 sm:py-1 text-xs font-semibold backdrop-blur-md transition-all duration-300 group-hover:bg-white/30",children:[t.jsx("span",{className:"h-1 w-1 sm:h-1.5 sm:w-1.5 rounded-full bg-white/80"}),d.category]}),t.jsx("h3",{className:"mt-4 sm:mt-6 text-base sm:text-lg md:text-xl font-bold leading-snug tracking-tight md:line-clamp-3 line-clamp-2",children:d.title||e.title}),t.jsx("p",{className:"mt-2 sm:mt-3 text-xs sm:text-sm text-white/80 leading-relaxed md:text-base md:line-clamp-3 line-clamp-2",children:d.description||e.subtitle}),t.jsx("div",{className:"mt-3 sm:mt-6 flex flex-wrap gap-1 sm:gap-2",children:(d.tags??e.tags??[]).map(c=>t.jsx("span",{className:"inline-flex items-center rounded-full bg-white/15 px-2 sm:px-3 py-0.5 sm:py-1 text-xs font-medium backdrop-blur-sm transition-all duration-300 hover:bg-white/25",children:c},`${e.id}-${c}`))}),t.jsx("div",{className:"flex-grow"}),t.jsxs("button",{className:"mt-3 sm:mt-6 inline-flex items-center gap-2 self-start rounded-full bg-white/15 px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold backdrop-blur-sm transition-all duration-300 hover:bg-white/25 group-hover:translate-x-1 will-change-transform",onClick:c=>{c.stopPropagation(),_(e)},children:[t.jsx("span",{children:n("portfolio.viewProject")}),t.jsx(G,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]}),t.jsx("div",{className:"absolute inset-0 rounded-3xl border border-white/0 group-hover:border-white/20 transition-all duration-500"})]})},`${e.id}-${r}`)}),t.jsx("span",{"aria-hidden":"true",className:"shrink-0 w-[40vw] sm:w-[32vw] md:w-[26vw] lg:w-[22vw]"})]})}),t.jsx("p",{className:"sr-only","aria-live":"polite",children:O})]})]}):null}export{ue as default};
//# sourceMappingURL=PortfolioCarousel-kNuDDD-F.js.map
